---
title: "《代码整洁之道》读书笔记"
tags: ["读书笔记", "代码"]
categories: ["读书笔记"]
date: "2019-01-10T09:00:00+08:00"
---

### 有意义的命名

1. 名副其实

   一个好的变量、函数或类的名字应该已经答复了所以的大问题。该告诉你为什么存在？做什么事情？应该怎样使用？

2. 避免误导

   避免使用与本意相悖的词。例如 `accountList` 除非这真的是存放一组账号的 List 否则不应该使用 List 这样对程序员有特殊意义的词。

   另外避免使用很长且名称相近或区别很小的名称。

3. 做有意义的区分

   moneyAmount 和 money ，customerInfo 和 customer，accountData 和 account， theMessage 和 message 并没有区别。要区分名称就要以渎职能鉴别不同之处的方式来区分。

4. 使用读得出来的名称

   `genymdhms ` -> `generationTimstamp`; 

   `modymdhms` -> `modificationTimestamp`

5. 使用可搜索的名称

   避免魔法数字和魔法变量。

6. 避免编码

   1. 对于 Java 而言不需要使用匈牙利语标记法
   2. 无需使用 m_ 前置标记成员变量，应当把类和函数做得足够小，消除对成员前缀的需要。

7. 避免思维映射

   不应当让读者在脑海中把你的名称翻译成他们熟知的名称。明确是王道！

8. 别扮可爱

9. 每个概念对应一个词

   同一堆代码中不应该既有 controller 又有 manager，还有 driver，会让人困惑。

10. 别用双关语

11. 使用解决方案领域名称

12. 使用源自所涉问题领域的名称

13. 添加有意义的语境

    `firstName` -> `addrFirstName`

14. 避免添加无用的语境

    只要短名称足够的清楚，就要比长名称好。

15. 类名应使用名词或短语

16. 方法名应当是动词或动词短语



### 函数

**短小：**函数的规则是短小，函数不应该超出一个屏幕，最多100行，20行封顶最佳。

**只做一件事情：**如果函数只做了该函数名下同一抽象层的步骤，则函数还是只做一件事情。编写函数毕竟是为了把大一些的概念拆分为另一抽象层的一系列步骤。

**每个函数一个抽象层级：**函数的语句都要在同一抽象层级上。自顶向下读代码。

**使用描述性的名称：** 使用能够更好描述函数所做事情的名称，且不要名不副实。